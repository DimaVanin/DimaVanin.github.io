<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <!--<meta charset="utf-8">-->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">-->
    <meta name="apple-mobile-web-app-capable" content="yes">

    <meta name="apple-mobile-web-app-capable"
          content="yes">

    <!-- Make the app title different than the page title. -->
    <meta name="apple-mobile-web-app-title"
          content="iOS 8 web app">

    <!-- Configure the status bar. -->
    <meta name="apple-mobile-web-app-status-bar-style"
          content="black">

    <!-- Set the viewport. -->
    <meta name="viewport"
          content="initial-scale=1">

    <!-- Disable automatic phone number detection. -->
    <meta name="format-detection"
          content="telephone=no">

    <!-- ICONS -->

    <!-- iPad retina icon -->
    <link href="https://placehold.it/152"
          sizes="152x152"
          rel="apple-touch-icon-precomposed">

    <!-- iPad retina icon (iOS < 7) -->
    <link href="https://placehold.it/144"
          sizes="144x144"
          rel="apple-touch-icon-precomposed">

    <!-- iPad non-retina icon -->
    <link href="https://placehold.it/76"
          sizes="76x76"
          rel="apple-touch-icon-precomposed">

    <!-- iPad non-retina icon (iOS < 7) -->
    <link href="https://placehold.it/72"
          sizes="72x72"
          rel="apple-touch-icon-precomposed">

    <!-- iPhone 6 Plus icon -->
    <link href="https://placehold.it/180"
          sizes="120x120"
          rel="apple-touch-icon-precomposed">

    <!-- iPhone retina icon (iOS < 7) -->
    <link href="https://placehold.it/114"
          sizes="114x114"
          rel="apple-touch-icon-precomposed">

    <!-- iPhone non-retina icon (iOS < 7) -->
    <link href="https://placehold.it/57"
          sizes="57x57"
          rel="apple-touch-icon-precomposed">

    <!-- STARTUP IMAGES -->

    <!-- iPad retina portrait startup image -->
    <link href="https://placehold.it/1536x2008"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 2)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">

    <!-- iPad retina landscape startup image -->
    <link href="https://placehold.it/1496x2048"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 2)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">

    <!-- iPad non-retina portrait startup image -->
    <link href="https://placehold.it/768x1004"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 1)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">

    <!-- iPad non-retina landscape startup image -->
    <link href="https://placehold.it/748x1024"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 1)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">

    <!-- iPhone 6 Plus portrait startup image -->
    <link href="https://placehold.it/1242x2148"
          media="(device-width: 414px) and (device-height: 736px)
                 and (-webkit-device-pixel-ratio: 3)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">

    <!-- iPhone 6 Plus landscape startup image -->
    <link href="https://placehold.it/1182x2208"
          media="(device-width: 414px) and (device-height: 736px)
                 and (-webkit-device-pixel-ratio: 3)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">

    <!-- iPhone 6 startup image -->
    <link href="https://placehold.it/750x1294"
          media="(device-width: 375px) and (device-height: 667px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">

    <!-- iPhone 5 startup image -->
    <link href="https://placehold.it/640x1096"
          media="(device-width: 320px) and (device-height: 568px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">

    <!-- iPhone < 5 retina startup image -->
    <link href="https://placehold.it/640x920"
          media="(device-width: 320px) and (device-height: 480px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">

    <!-- iPhone < 5 non-retina startup image -->
    <link href="https://placehold.it/320x460"
          media="(device-width: 320px) and (device-height: 480px)
                 and (-webkit-device-pixel-ratio: 1)"
          rel="apple-touch-startup-image">

    <!-- HACKS -->

    <!-- Prevent text size change on orientation change. -->
    <title>todo list example</title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="app/app.js"></script>
    <script src="app/mainPageController.js"></script>
    <script src="app/mainPageService.js"></script>
    <script src="libs/moment.min.js"></script>
    <script src="example.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="content/site.css">

    <base href="/">
</head>
<body ng-controller="mainPageController as mainCtrl">
<div class="container">
    <div class="header clearfix">
        <nav>
            <ul class="nav nav-pills pull-right">
                <li role="presentation" class="active">
                    <a href="https://github.com/DimaVanin/dimavanin.github.io" target="_blank">View gitHub</a>

                </li>
            </ul>
        </nav>
        <h3 class="text-muted">toDo list</h3>
        <div class="share">
            <a class="btn btn-block btn-flat btn-whatsapp" href="whatsapp://send?text='asdasdasds'"><span><i class="fa fa-whatsapp"></i></span></a>
        </div>
    </div>

    <div class="jumbotron">
        <h2>It's test task</h2>

        <h3>I used Angular and jQuery</h3>

        <div>
            <button class="btn"
                    ng-class="{'btn-success':mainCtrl.angActive,'btn-default':!mainCtrl.angActive}"
                    ng-click="mainCtrl.viewAngular()">
                <i class="fa fa-shield"></i> View Angular result
            </button>
            <button class="btn"
                    id="viewBtn"
                    ng-class="{'btn-success':mainCtrl.jQueryActive,'btn-default':!mainCtrl.jQueryActive}"
                    ng-click="mainCtrl.viewJQuery()">
                <i class="fa fa-rss"></i> View jQuery result
            </button>
        </div>
    </div>

    <div ng-if="mainCtrl.angActive">
        <div ng-show="!mainCtrl.itemLoaded"
             class="spinner">
            <h2>Loading...</h2>
        </div>
        <div ng-show="mainCtrl.itemLoaded">
            <div ng-show="!mainCtrl.showAddNew"
                 class="jumbotron">
                <button type="button"
                        class="btn btn-success"
                        ng-click="mainCtrl.showAddNew=!mainCtrl.showAddNew">
                    <i class="fa fa-plus"></i> Add new task
                </button>
            </div>

            <div ng-show="mainCtrl.showAddNew"
                 class="jumbotron">
                <form class="form-inline"
                      ng-submit="mainCtrl.addNewTask()">
                    <input type="text"
                           class="form-control"
                           ng-model="mainCtrl.newTask.task"
                           placeholder="Task...">

                    <input type="number"
                           class="form-control"
                           ng-model="mainCtrl.newTask.expires_at"
                           placeholder="Hours to complete...">
                    <select class="form-control"
                            ng-model="mainCtrl.newTask.type"
                            ng-options="type.id as type.name for type in mainCtrl.typeList">
                    </select>
                    <br>

                    <button type="submit"
                            class="btn btn-success"
                            ng-click="mainCtrl.showAddNew=!mainCtrl.showAddNew">
                        <i class="fa fa-thumbs-o-up"></i>
                    </button>

                    <button type="button"
                            class="btn btn-danger"
                            ng-click="mainCtrl.showAddNew=!mainCtrl.showAddNew">
                        <i class="fa fa-thumbs-o-down"> </i>
                    </button>
                </form>
            </div>

            <table class="table table-hover">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Task</th>
                    <th>Created at</th>
                    <th>Expires at</th>
                    <th>Type</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="task in mainCtrl.taskList | orderBy:'-expires_at'"
                    ng-class="{'success': task.done}">
                    <td>
                        <input type="checkbox"
                               ng-model="task.done"
                               ng-checked="task.done"
                               ng-disabled="task.done">
                    </td>
                    <td>{{task.task}}</td>
                    <td>{{mainCtrl.parseData(task.created_at)}}</td>
                    <td>{{mainCtrl.parseData(task.expires_at)}}</td>
                    <td>{{mainCtrl.defineType(task.type)}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div ng-show="mainCtrl.jQueryActive">
        <div id="spinner" class="spinner">
            <h2>Loading...</h2>
        </div>
        <div id="mainContainer">
            <div id="addNewBtn"
                 class="jumbotron">
                <button type="button"
                        class="btn btn-success">
                    <i class="fa fa-plus"></i> Add new task
                </button>
            </div>

            <div id="addNewForm"
                 class="jumbotron">
                <form class="form-inline">
                    <input type="text"
                           class="form-control"
                           placeholder="Task...">

                    <input type="number"
                           class="form-control"
                           placeholder="Hours to complete...">
                    <select class="form-control"
                            id="typeSelect">
                    </select>
                    <br>

                    <button type="button"
                            class="btn btn-success">
                        <i class="fa fa-thumbs-o-up"></i>
                    </button>

                    <button type="button"
                            class="btn btn-danger">
                        <i class="fa fa-thumbs-o-down"></i>
                    </button>
                </form>
            </div>


            <table class="table table-hover">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Task</th>
                    <th>Created at</th>
                    <th>Expires at</th>
                    <th>Type</th>
                </tr>
                </thead>
                <tbody id="tbody">
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>