<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="black">
    <link rel="apple-touch-startup-image"
          href="content/Loadingscreen.jpg"
          media="(device-width: 768px) and (device-height: 1024px)
        and (orientation: landscape)
        and (-webkit-device-pixel-ratio: 1)"/>
    <link rel="apple-touch-icon" href="content/ipod-icon.png" />
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">
    <title>todo list example</title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="app/app.js"></script>
    <script src="app/mainPageController.js"></script>
    <script src="app/mainPageService.js"></script>
    <script src="libs/moment.min.js"></script>
    <script src="example.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="content/site.css">

    <base href="/">
</head>
<body ng-controller="mainPageController as mainCtrl">
<div class="container">
    <div class="header clearfix">
        <nav>
            <ul class="nav nav-pills pull-right">
                <li role="presentation" class="active">
                    <a href="https://github.com/DimaVanin/dimavanin.github.io" target="_blank">View gitHub</a>

                </li>
            </ul>
        </nav>
        <h3 class="text-muted">toDo list</h3>
        <div class="share">
            <a class="btn btn-block btn-flat btn-whatsapp" href="whatsapp://send?text='asdasdasds'"><span><i class="fa fa-whatsapp"></i></span></a>
        </div>
    </div>

    <div class="jumbotron">
        <h2>It's test task</h2>

        <h3>I used Angular and jQuery</h3>

        <div>
            <button class="btn"
                    ng-class="{'btn-success':mainCtrl.angActive,'btn-default':!mainCtrl.angActive}"
                    ng-click="mainCtrl.viewAngular()">
                <i class="fa fa-shield"></i> View Angular result
            </button>
            <button class="btn"
                    id="viewBtn"
                    ng-class="{'btn-success':mainCtrl.jQueryActive,'btn-default':!mainCtrl.jQueryActive}"
                    ng-click="mainCtrl.viewJQuery()">
                <i class="fa fa-rss"></i> View jQuery result
            </button>
        </div>
    </div>

    <div ng-if="mainCtrl.angActive">
        <div ng-show="!mainCtrl.itemLoaded"
             class="spinner">
            <h2>Loading...</h2>
        </div>
        <div ng-show="mainCtrl.itemLoaded">
            <div ng-show="!mainCtrl.showAddNew"
                 class="jumbotron">
                <button type="button"
                        class="btn btn-success"
                        ng-click="mainCtrl.showAddNew=!mainCtrl.showAddNew">
                    <i class="fa fa-plus"></i> Add new task
                </button>
            </div>

            <div ng-show="mainCtrl.showAddNew"
                 class="jumbotron">
                <form class="form-inline"
                      ng-submit="mainCtrl.addNewTask()">
                    <input type="text"
                           class="form-control"
                           ng-model="mainCtrl.newTask.task"
                           placeholder="Task...">

                    <input type="number"
                           class="form-control"
                           ng-model="mainCtrl.newTask.expires_at"
                           placeholder="Hours to complete...">
                    <select class="form-control"
                            ng-model="mainCtrl.newTask.type"
                            ng-options="type.id as type.name for type in mainCtrl.typeList">
                    </select>
                    <br>

                    <button type="submit"
                            class="btn btn-success"
                            ng-click="mainCtrl.showAddNew=!mainCtrl.showAddNew">
                        <i class="fa fa-thumbs-o-up"></i>
                    </button>

                    <button type="button"
                            class="btn btn-danger"
                            ng-click="mainCtrl.showAddNew=!mainCtrl.showAddNew">
                        <i class="fa fa-thumbs-o-down"> </i>
                    </button>
                </form>
            </div>

            <table class="table table-hover">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Task</th>
                    <th>Created at</th>
                    <th>Expires at</th>
                    <th>Type</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="task in mainCtrl.taskList | orderBy:'-expires_at'"
                    ng-class="{'success': task.done}">
                    <td>
                        <input type="checkbox"
                               ng-model="task.done"
                               ng-checked="task.done"
                               ng-disabled="task.done">
                    </td>
                    <td>{{task.task}}</td>
                    <td>{{mainCtrl.parseData(task.created_at)}}</td>
                    <td>{{mainCtrl.parseData(task.expires_at)}}</td>
                    <td>{{mainCtrl.defineType(task.type)}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div ng-show="mainCtrl.jQueryActive">
        <div id="spinner" class="spinner">
            <h2>Loading...</h2>
        </div>
        <div id="mainContainer">
            <div id="addNewBtn"
                 class="jumbotron">
                <button type="button"
                        class="btn btn-success">
                    <i class="fa fa-plus"></i> Add new task
                </button>
            </div>

            <div id="addNewForm"
                 class="jumbotron">
                <form class="form-inline">
                    <input type="text"
                           class="form-control"
                           placeholder="Task...">

                    <input type="number"
                           class="form-control"
                           placeholder="Hours to complete...">
                    <select class="form-control"
                            id="typeSelect">
                    </select>
                    <br>

                    <button type="button"
                            class="btn btn-success">
                        <i class="fa fa-thumbs-o-up"></i>
                    </button>

                    <button type="button"
                            class="btn btn-danger">
                        <i class="fa fa-thumbs-o-down"></i>
                    </button>
                </form>
            </div>


            <table class="table table-hover">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Task</th>
                    <th>Created at</th>
                    <th>Expires at</th>
                    <th>Type</th>
                </tr>
                </thead>
                <tbody id="tbody">
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>